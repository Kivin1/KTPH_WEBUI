<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" href="/static/images/khoo.png" type="image/png">

  <title>Khoo Teck Puat Hospital Admin</title>

  <link href="/static/css/style.default.css" rel="stylesheet">
  <!-- <link href="/static/css/bootstrap.min.css" rel="stylesheet"> -->



  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="/static/js/html5shiv.js"></script>
  <script src="/static/js/respond.min.js"></script>
  <![endif]-->
</head>

<body>
<script src="/static/js/jquery-1.11.1.min.js"></script>
<script src="/static/js/jquery-migrate-1.2.1.min.js"></script>
<script src="/static/js/jquery-ui-1.10.3.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<script src="/static/js/modernizr.min.js"></script>
<script src="/static/js/jquery.sparkline.min.js"></script>
<script src="/static/js/toggles.min.js"></script>
<script src="/static/js/retina.min.js"></script>
<script src="/static/js/jquery.cookies.js"></script>

<script src="/static/js/flot/jquery.flot.min.js"></script>
<script src="/static/js/flot/jquery.flot.resize.min.js"></script>
<script src="/static/js/flot/jquery.flot.spline.min.js"></script>
<script src="/static/js/morris.min.js"></script>
<script src="/static/js/raphael-2.1.0.min.js"></script>

<script src="/static/js/custom.js"></script>
<script src="/static/js/Chart.min.js"></script>
<script src="/static/js/dashboard.js"></script>
<script src="/static/js/time.js?v=16"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
<!-- Preloader -->
<div id="preloader">
    <div id="status"><i class="fa fa-spinner fa-spin"></i></div>
</div>

<section>

  <div class="leftpanel">

    <div class="logopanel">
        <h1><span>[</span> KTPH <span>]</span></h1>
    </div><!-- logopanel -->

    <div class="leftpanelinner">

        <!-- This is only visible to small devices -->
        <div class="visible-xs hidden-sm hidden-md hidden-lg">
            <div class="media userlogged">
                
                <div class="media-body">
                    <h4>{{ username }}</h4>
                    
                </div>
            </div>

            <h5 class="sidebartitle actitle">Account</h5>
            <ul class="nav nav-pills nav-stacked nav-bracket mb30">
             <!--  <li><a href="profile.html"><i class="fa fa-user"></i> <span>Profile</span></a></li>
              <li><a href=""><i class="fa fa-cog"></i> <span>Account Settings</span></a></li>
              <li><a href=""><i class="fa fa-question-circle"></i> <span>Help</span></a></li>
              <li><a href="signout.html"><i class="fa fa-sign-out"></i> <span>Sign Out</span></a></li> -->
            </ul>
        </div>

      <h5 class="sidebartitle">Navigation</h5>
      <ul class="nav nav-pills nav-stacked nav-bracket">
        <li class="active"><a href="/home"><i class="fa fa-home"></i> <span> Home</span></a>
        </li>
        <li class="nav-parent"><a href=""><i class="fa fa-bar-chart-o"></i> <span>Inpatient: Report</span></a>
          <ul class="children">
            {% for item in result['indepartments'] %}
                  <li><a href="/Inpatient/{{item}}"><i class="fa fa-caret-right"></i> {{item}}</a></li>
              {% endfor %}
          </ul>
        </li>
        <li class="nav-parent"><a href=""><i class="glyphicon glyphicon-th-list"></i> <span>Outpatient: Report</span></a>
          <ul class="children">
              {% for item in result['outdepartments'] %}
                  <li><a href="general-forms.html"><i class="fa fa-caret-right"></i> {{item}}</a></li>
              {% endfor %}
          </ul>
        </li>
{#        <li><a href="email.html"><span class="pull-right badge badge-success">2</span><i class="fa fa-envelope-o"></i> <span>Email</span></a></li>#}
{#        <li class="nav-parent"><a href=""><i class="fa fa-edit"></i> <span>Forms</span></a>#}
{#          <ul class="children">#}
{#            <li><a href="general-forms.html"><i class="fa fa-caret-right"></i> General Forms</a></li>#}
{#            <li><a href="form-layouts.html"><i class="fa fa-caret-right"></i> Form Layouts</a></li>#}
{#            <li><a href="form-validation.html"><i class="fa fa-caret-right"></i> Form Validation</a></li>#}
{#            <li><a href="form-wizards.html"><i class="fa fa-caret-right"></i> Form Wizards</a></li>#}
{#            <li><a href="wysiwyg.html"><i class="fa fa-caret-right"></i> Text Editor</a></li>#}
{#            <li><a href="code-editor.html"><i class="fa fa-caret-right"></i> Code Editor</a></li>#}
{#            <li><a href="x-editable.html"><i class="fa fa-caret-right"></i> X-Editable</a></li>#}
{#          </ul>#}
{#        </li>#}
{#        <li class="nav-parent"><a href=""><i class="fa fa-suitcase"></i> <span>UI Elements</span></a>#}
{#          <ul class="children">#}
{#            <li><a href="buttons.html"><i class="fa fa-caret-right"></i> Buttons</a></li>#}
{#            <li><a href="icons.html"><span class="pull-right badge badge-danger">updated</span><i class="fa fa-caret-right"></i> Icons</a></li>#}
{#            <li><a href="typography.html"><i class="fa fa-caret-right"></i> Typography</a></li>#}
{#            <li><a href="alerts.html"><i class="fa fa-caret-right"></i> Alerts &amp; Notifications</a></li>#}
{#            <li><a href="modals.html"><i class="fa fa-caret-right"></i> Modals</a></li>#}
{#            <li><a href="tabs-accordions.html"><i class="fa fa-caret-right"></i> Tabs &amp; Accordions</a></li>#}
{#            <li><a href="sliders.html"><i class="fa fa-caret-right"></i> Sliders</a></li>#}
{#            <li><a href="graphs.html"><i class="fa fa-caret-right"></i> Graphs &amp; Charts</a></li>#}
{#            <li><a href="widgets.html"><i class="fa fa-caret-right"></i> Panels &amp; Widgets</a></li>#}
{#            <li><a href="extras.html"><i class="fa fa-caret-right"></i> Extras</a></li>#}
{#          </ul>#}
{#        </li>#}
          <li><a href="/tables"><i class="fa fa-th-list"></i> <span>Improvment</span></a></li>
          <!-- <li><a href="/feature"><i class="glyphicon glyphicon-star"></i> <span>Attributes Importance</span></a></li> -->

      </ul>
{#        <li class="nav-parent"><a href=""><i class="fa fa-bug"></i> <span>Bug Tracker</span></a>#}
{#            <ul class="children">#}
{#                <li><a href="bug-tracker.html"><i class="fa fa-caret-right"></i> Summary</a></li>#}
{#                <li><a href="bug-issues.html"><i class="fa fa-caret-right"></i> Issues</a></li>#}
{#                <li><a href="view-issue.html"><i class="fa fa-caret-right"></i> View Issue</a></li>#}
{#            </ul>#}
{#        </li>#}
{#        <li><a href="maps.html"><i class="fa fa-map-marker"></i> <span>Maps</span></a></li>#}
{#        <li class="nav-parent"><a href=""><i class="fa fa-file-text"></i> <span>Pages</span></a>#}
{#          <ul class="children">#}
{#            <li><a href="calendar.html"><i class="fa fa-caret-right"></i> Calendar</a></li>#}
{#            <li><a href="media-manager.html"><i class="fa fa-caret-right"></i> Media Manager</a></li>#}
{#            <li><a href="timeline.html"><i class="fa fa-caret-right"></i> Timeline</a></li>#}
{#            <li><a href="blog-list.html"><i class="fa fa-caret-right"></i> Blog List</a></li>#}
{#            <li><a href="blog-single.html"><i class="fa fa-caret-right"></i> Blog Single</a></li>#}
{#            <li><a href="people-directory.html"><i class="fa fa-caret-right"></i> People Directory</a></li>#}
{#            <li><a href="profile.html"><i class="fa fa-caret-right"></i> Profile</a></li>#}
{#            <li><a href="invoice.html"><i class="fa fa-caret-right"></i> Invoice</a></li>#}
{#            <li><a href="search-results.html"><i class="fa fa-caret-right"></i> Search Results</a></li>#}
{#            <li><a href="blank.html"><i class="fa fa-caret-right"></i> Blank Page</a></li>#}
{#            <li><a href="notfound.html"><i class="fa fa-caret-right"></i> 404 Page</a></li>#}
{#            <li><a href="locked.html"><i class="fa fa-caret-right"></i> Locked Screen</a></li>#}
{#            <li><a href="signin.html"><i class="fa fa-caret-right"></i> Sign In</a></li>#}
{#            <li><a href="signup.html"><i class="fa fa-caret-right"></i> Sign Up</a></li>#}
{#          </ul>#}
{#        </li>#}
{#        <li class="nav-parent"><a href="layouts.html"><i class="fa fa-laptop"></i> <span>Skins &amp; Layouts</span></a>#}
{#            <ul class="children">#}
{#                <li><a href="layouts.html"><i class="fa fa-caret-right"></i> General Layouts</a></li>#}
{#                <li><a href="horizontal-menu.html"><i class="fa fa-caret-right"></i> Top Menu</a></li>#}
{#                <li><a href="horizontal-menu2.html"><i class="fa fa-caret-right"></i> Top Menu w/ Sidebar</a></li>#}
{#                <li><a href="fixed-width.html"><i class="fa fa-caret-right"></i> Fixed Width Page</a></li>#}
{#                <li><a href="fixed-width2.html"><i class="fa fa-caret-right"></i> Fixed Width w/ Menu</a></li>#}
{#            </ul>#}
{#        </li>#}
{#      </ul>#}

     <!--  <div class="infosummary" style="width: 120px" >
          <div class = "mb40"></div>
          <div class="panel panel-warning panel-alt widget-today">
              <div class="panel-heading text-center">
                 <i class="fa fa-calendar-o"></i>
              </div>
              <div class="panel-body text-center">
                 <h3 class="today"><script>current()</script></h3>
              </div>panel-body
          </div>

          <div class="panel panel-danger panel-alt widget-time">
              <div class="panel-heading text-center">
                 <i class="glyphicon glyphicon-time"></i>
              </div>
              <div class="panel-body text-center">
                 <h3 class="today"><script>current_time()</script></h3>
              </div>
           </div> --><!-- panel -->


{#        <h5 class="sidebartitle">Information Summary</h5>#}
{#        <ul>#}
{#            <li>#}
{#                <div class="datainfo">#}
{#                    <span class="text-muted">Daily Traffic</span>#}
{#                    <h4>630, 201</h4>#}
{#                </div>#}
{#                <div id="sidebar-chart" class="chart"></div>#}
{#            </li>#}
{#            <li>#}
{#                <div class="datainfo">#}
{#                    <span class="text-muted">Average Users</span>#}
{#                    <h4>1, 332, 801</h4>#}
{#                </div>#}
{#                <div id="sidebar-chart2" class="chart"></div>#}
{#            </li>#}
{#            <li>#}
{#                <div class="datainfo">#}
{#                    <span class="text-muted">Disk Usage</span>#}
{#                    <h4>82.2%</h4>#}
{#                </div>#}
{#                <div id="sidebar-chart3" class="chart"></div>#}
{#            </li>#}
{#            <li>#}
{#                <div class="datainfo">#}
{#                    <span class="text-muted">CPU Usage</span>#}
{#                    <h4>140.05 - 32</h4>#}
{#                </div>#}
{#                <div id="sidebar-chart4" class="chart"></div>#}
{#            </li>#}
{#            <li>#}
{#                <div class="datainfo">#}
{#                    <span class="text-muted">Memory Usage</span>#}
{#                    <h4>32.2%</h4>#}
{#                </div>#}
{#                <div id="sidebar-chart5" class="chart"></div>#}
{#            </li>#}
{#        </ul>#}
      <!-- </div> -->

    </div><!-- leftpanelinner -->
  </div><!-- leftpanel -->

  <div class="mainpanel">

    <div class="headerbar">

      <a class="menutoggle"><i class="fa fa-bars"></i></a>

 <!--      <form class="searchform" action="index.html" method="post">
        <input type="text" class="form-control" name="keyword" placeholder="Search here..." />
      </form> -->

      <div class="header-right">
        <ul class="headermenu">
          <li>
            <div class="btn-group">
              <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                <!-- <img src="/static/images/photos/loggeduser.png" alt="" /> -->
                {{ username }}
                <span class="caret"></span>
              </button>
             <!--  <ul class="dropdown-menu dropdown-menu-usermenu pull-right">
                <li><a href="profile.html"><i class="glyphicon glyphicon-user"></i> My Profile</a></li>
                <li><a href="#"><i class="glyphicon glyphicon-cog"></i> Account Settings</a></li>
                <li><a href="#"><i class="glyphicon glyphicon-question-sign"></i> Help</a></li>
                <li><a href="signin.html"><i class="glyphicon glyphicon-log-out"></i> Log Out</a></li>
              </ul> -->
            </div>
          </li>
        
        </ul>
      </div><!-- header-right -->

    </div><!-- headerbar -->

    <div class="pageheader">
      <h2><i class="fa fa-home"></i> HOME </h2>
      <div class="breadcrumb-wrapper">
        <span class="label">You are here:</span>
        <ol class="breadcrumb">
          <li><a href="/home">KTPH</a></li>
          <li class="active">Home</li>
        </ol>
      </div>
    </div>


    <div class="contentpanel">

        <div class="row">
{##}
       <div class="col-sm-12 col-md-12">
          <div class="panel panel-default">
            
          <form id ="form1" action="{{ url_for("render_index") }}" method="post"  enctype="multipart/form-data">
              <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
              <select name="select_index1" class = "btn-group btn  btn-warning" style="position: absolute;top: -10px;right: 0px" onchange="form1.submit();">
                    <option selected="selected">{{select1}}</option>
                    {% for item in result['mons'] %}
                        {% if item != select1%}
                             <option value={{ item}}> {{item}}</option>
                        {% endif %}
                    {% endfor %}

              </select>
          </form>
             
{#              <div class="stat">#}
                <div class="row">
                <div class="col-md-6 col-sm-6">

                    <h2 style="text-align: center">Inpatient</h2>
                 </div>
                    <div class="col-md-6 col-sm-6">

                    <h2 style="text-align: center">Outpatient</h2>

                 </div>
                </div>
                <div class="row">

{#                  <div class="col-xs-2">#}
{#                     <img style="height: 120px;width: 110px;"src="/static/images/patients.png" alt=""/>#}
{##}
{#                   </div>#}

                  <div class="col-md-2 col-sm-4" >
                     <canvas id="doughnutChart2" style="height: 140px;width: 140px" ></canvas>

                  </div>
                  <div class="col-md-2 col-sm-4" >


{#                    <small class="stat-label">Inpatient Overall Experience</small>#}
                    <canvas id="doughnutChart3" style="height: 140px;width: 140px"></canvas>

                  </div>
                   <div class="col-md-2 col-sm-4" >
                     <canvas id="doughnutChart4" style="height: 140px;width: 140px"></canvas>

                   </div>
{#                </div>#}



                  <div class="col-md-2 col-sm-4" >

                     <canvas id="doughnutChart5" style="height: 140px;width: 140px"></canvas>

                  </div>
                  <div class="col-md-2 col-sm-4" >

{#                    <small class="stat-label">Inpatient Overall Experience</small>#}
                    <canvas id="doughnutChart6" style="height: 140px;width: 140px"></canvas>

                  </div>
                   <div class="col-md-2 col-sm-4" >
                     <canvas id="doughnutChart7" style="height: 140px;width: 140px"></canvas>

                   </div>
                </div><!-- row -->
          <div class="mb15"></div>
          </div>
       </div>

          </div><!-- panel -->


      <div class="row">
        <div class="col-sm-6 col-md-6">
          <div class="panel panel-default">
            <div class="panel-body">

                  <p class="mb15">Inpatient: The trend of overall experience ratings</p>
                  <div style="width: 100%;height: 200px;margin-bottom: 10px">
                    <canvas id="myChart"></canvas>
                  </div>
            </div><!-- panel-body -->
          </div><!-- panel -->
        </div><!-- col-sm-6 -->

          <div class="col-sm-6 col-md-6">
             <div class="panel panel-default">
              <div class="panel-body">
                <p class="mb15">Outpatient: The trend of overall experience ratings</p>
                  <div style="width: 100%;height: 200px">
                  <canvas id="myChart8"></canvas>
                  </div>
               <div class="mb5"></div>
              </div>
             </div>
          </div>
      </div>
      <div class="row">
           <div class = "col-md-9">
          <div class="panel panel-default panel-alt widget-messaging">

              <div class = "row">

                <div class = "col-sm-5">
                  <div class="panel-heading">

                  <h4>What are they complaining</h4>
                 </div>

                  <ul>
                    <li>
                      <small class="pull-right">Mar 10</small>
                      <h4 class="sender">Jennier Lawrence</h4>
                      <small>The A&E doctor who attended to me first, Doctor Jasmine seems rather impatient. Gave jab with no explanation on what is it for</small>
                    </li>
                    <li>
                      <small class="pull-right">Mar 9</small>
                      <h4 class="sender">Marsha Mellow</h4>
                      <small>Speak slowly to patient. Thank you </small>
                    </li>
                    <li>
                      <small class="pull-right">Mar 9</small>
                      <h4 class="sender">Holly Golightly</h4>
                      <small>Food must change, no taste</small>
                    </li>
                    <li>
                      <small class="pull-right">Mar 8</small>
                      <h4 class="sender">Jennier Lawrence</h4>
                      <small>Waiting time for admission takes a long time</small>
                    </li>
                    <li>
                      <small class="pull-right">Mar 7</small>
                      <h4 class="sender">Marsha Mellow</h4>
                      <small>"1) Ward A82 Room 8, system needs to be looked into 2) Toilet needs to be looked into"</small>
                    </li>
                  </ul>

                </div> <!--col-sm-8-->


             <div class="col-sm-7">
                    <div class=" panel panel-default">
                   <div class = "mb15"></div>
                   <h4>Feedback Received</h4>
                 <div style="height: 400px;width: 400px">
                   <canvas id="canvas" style="display: block;" ></canvas>
                 </div>
                </div>
               </div>



        </div>
    </div>
     </div><!--com-sm-8-->


     <div class="col-sm-2 col-md-3">
        <div class="panel panel-default">
              <div class="panel-body">
{#                 <div class="row">#}
{#                    <div class="col-xs-6">#}

                       <div class="panel panel-warning panel-alt widget-today">
                          <div class="panel-heading text-center">
                             <i class="fa fa-calendar-o"></i>
                          </div>
                          <div class="panel-body text-center">
                             <h3 class="today"><script>current()</script></h3>
                          </div><!-- panel-body -->
                       </div><!-- panel -->
{#                    </div>#}

{#                    <div class="col-xs-6">#}
                       <div class="panel panel-danger panel-alt widget-time">
                          <div class="panel-heading text-center">
                             <i class="glyphicon glyphicon-time"></i>
                          </div>
                          <div class="panel-body text-center">
                             <h3 class="today"><script>current_time()</script></h3>
                          </div><!-- panel-body -->
                       </div><!-- panel -->
{#                 </div>#}
{#              </div> <!--row-->#}
        </div><!--panel-body-->
        </div><!--panel-->
     </div><!--col-sm-3-->



    </div><!--row-->




   </div><!-- contentpanel -->

  </div><!-- mainpanel -->

</section>



<div style="text-align:center;"> 
<p>© Copyright 2018 Khoo Teck Puat Hospital. All Rights Reserved.</p>
</div>
<script>
// Global parameters:
// do not resize the chart canvas when its container does (keep at 600x400px)
Chart.defaults.global.responsive =  true;
Chart.defaults.global.maintainAspectRatio=false;
// define the chart data
var chartData = {
  labels : [{% for item in result['mons'] %}
             "{{item}}",
            {% endfor %}],
  datasets : [{
      label: '{{ result['legend1']}}',
      backgroundColor: "#FF6384",
      borderColor: "#FF6384",
      borderCapStyle: 'butt',
      borderDash: [],
      borderDashOffset: 0.0,
      borderJoinStyle: 'miter',
      pointBorderColor: "#FF6384",
      pointBackgroundColor: "#fff",
      pointBorderWidth: 1,
      pointHoverRadius: 5,
      pointHoverBackgroundColor: "rgba(75,192,192,1)",
      pointHoverBorderColor: "rgba(220,220,220,1)",
      pointHoverBorderWidth: 2,
      pointRadius: 1,
      pointHitRadius: 10,
      data : [{% for item in result['outtops'] %}
                {{item}},
              {% endfor %}
      ],
      fill:false,
      spanGaps: false,
      lineTension: 0,
  }, {
      label: '{{result['legend2']}}' ,
      backgroundColor: "#FFCE56",
      borderColor: "#FFCE56",
      borderCapStyle: 'butt',
      borderDash: [],
      borderDashOffset: 0.0,
      borderJoinStyle: 'miter',
      pointBorderColor: "#FFCE56",
      pointBackgroundColor: "#fff",
      pointBorderWidth: 1,
      pointHoverRadius: 5,
      pointHoverBackgroundColor: "rgba(75,192,192,1)",
      pointHoverBorderColor: "rgba(220,220,220,1)",
      pointHoverBorderWidth: 2,
      pointRadius: 1,
      pointHitRadius: 10,
      data: [{% for item in result['outmiddles'] %}
          {{item}},
      {% endfor %}
      ],
      fill: false,
      spanGaps: false,
      lineTension: 0,
  },
  {
      label: '{{result['legend3']}}' ,
      backgroundColor: "#36A2EB",
      borderColor: "#36A2EB",
      borderCapStyle: 'butt',
      borderDash: [],
      borderDashOffset: 0.0,
      borderJoinStyle: 'miter',
      pointBorderColor: "#36A2EB",
      pointBackgroundColor: "#fff",
      pointBorderWidth: 1,
      pointHoverRadius: 5,
      pointHoverBackgroundColor: "rgba(75,192,192,1)",
      pointHoverBorderColor: "rgba(220,220,220,1)",
      pointHoverBorderWidth: 2,
      pointRadius: 1,
      pointHitRadius: 10,
      data: [{% for item in result['outbottoms'] %}
          {{item}},
      {% endfor %}
      ],
      fill: false,
      spanGaps: false,
      lineTension: 0,
  },

  ]}

var opt = {

    scales: {
    yAxes: [{
            ticks: {
              beginAtZero: true,
              steps: 10,
              stepValue: 0.1,
              max: 1
  
                },   
            }]
    },

    animation: {
        duration: 1,
        onComplete: function () {
            var chartInstance = this.chart,
                ctx = chartInstance.ctx;
            ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
            ctx.textAlign = 'center';
            ctx.textBaseline = 'bottom';
            ctx.fillStyle = this.chart.config.options.defaultFontColor;
            this.data.datasets.forEach(function (dataset, i) {

                var meta = chartInstance.controller.getDatasetMeta(i);
                meta.data.forEach(function (bar, index) {
                    if(index==0) {
                        var data = dataset.data[index].toFixed(4);
                        data = data * 100;
                        data = data.toFixed(2) + "%";
                        ctx.fillText(data, bar._model.x + 20, bar._model.y - 5);
                    }else{
                        var data = dataset.data[index].toFixed(4);
                        data = data * 100;
                        data = data.toFixed(2) + "%";
                        ctx.fillText(data, bar._model.x , bar._model.y - 1);
                    }
                });
            });
        }
    }
  }
// get chart canvas
var ctx = document.getElementById("myChart8").getContext("2d");
// create the chart using the chart canvas
var myChart = new Chart(ctx, {
  type: 'line',
  data: chartData,
  options:opt
});

</script>

<script>
// Global parameters:
// do not resize the chart canvas when its container does (keep at 600x400px)
Chart.defaults.global.responsive = true;
Chart.defaults.global.maintainAspectRatio=false;
// define the chart data
var chartData = {
  labels : [{% for item in result['mons'] %}
             "{{item}}",
            {% endfor %}],
  datasets : [{
      label: '{{result['legend1']}}',
      backgroundColor: "#FF6384",
      borderColor: "#FF6384",
      borderCapStyle: 'butt',
      borderDash: [],
      borderDashOffset: 0.0,
      borderJoinStyle: 'miter',
      pointBorderColor: "#FF6384",
      pointBackgroundColor: "#fff",
      pointBorderWidth: 1,
      pointHoverRadius: 5,
      pointHoverBackgroundColor: "rgba(75,192,192,1)",
      pointHoverBorderColor: "rgba(220,220,220,1)",
      pointHoverBorderWidth: 2,
      pointRadius: 1,
      pointHitRadius: 10,
      data : [{% for item in result['intops']%}
                {{item}},
              {% endfor %}
      ],
      fill:false,
      spanGaps: false,
      lineTension: 0,
  }, {
      label: '{{result['legend2']}}' ,
      backgroundColor: "#FFCE56",
      borderColor: "#FFCE56",
      borderCapStyle: 'butt',
      borderDash: [],
      borderDashOffset: 0.0,
      borderJoinStyle: 'miter',
      pointBorderColor: "#FFCE56",
      pointBackgroundColor: "#fff",
      pointBorderWidth: 1,
      pointHoverRadius: 5,
      pointHoverBackgroundColor: "rgba(75,192,192,1)",
      pointHoverBorderColor: "rgba(220,220,220,1)",
      pointHoverBorderWidth: 2,
      pointRadius: 1,
      pointHitRadius: 10,
      data: [{% for item in result['inmiddles'] %}
          {{item}},
      {% endfor %}
      ],
      fill: false,
      spanGaps: false,
      lineTension: 0,
  },
  {
      label: '{{result['legend3']}}' ,
      backgroundColor: "#36A2EB",
      borderColor: "#36A2EB",
      borderCapStyle: 'butt',
      borderDash: [],
      borderDashOffset: 0.0,
      borderJoinStyle: 'miter',
      pointBorderColor: "#36A2EB",
      pointBackgroundColor: "#fff",
      pointBorderWidth: 1,
      pointHoverRadius: 5,
      pointHoverBackgroundColor: "rgba(75,192,192,1)",
      pointHoverBorderColor: "rgba(220,220,220,1)",
      pointHoverBorderWidth: 2,
      pointRadius: 1,
      pointHitRadius: 10,
      data: [{% for item in result['inbottoms'] %}
          {{item}},
      {% endfor %}
      ],
      fill: false,
      spanGaps: false,
      lineTension: 0,
  },

  ]}


var opt = {

    scales: {
    yAxes: [{
            ticks: {
              beginAtZero: true,
              steps: 10,
              stepValue: 0.1,
              max: 1
  
                },   
            }]
    },

    animation: {
        duration: 1,
        onComplete: function () {
            var chartInstance = this.chart,
                ctx = chartInstance.ctx;
            ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
            ctx.textAlign = 'center';
            ctx.textBaseline = 'bottom';
            ctx.fillStyle = this.chart.config.options.defaultFontColor;
            this.data.datasets.forEach(function (dataset, i) {

                var meta = chartInstance.controller.getDatasetMeta(i);
                meta.data.forEach(function (bar, index) {
                    if(index==0) {
                        var data = dataset.data[index].toFixed(4);
                        data = data * 100;
                        data = data.toFixed(2) + "%";
                        ctx.fillText(data, bar._model.x + 20, bar._model.y - 5);
                    }else{
                        var data = dataset.data[index].toFixed(4);
                        data = data * 100;
                        data = data.toFixed(2) + "%";
                        ctx.fillText(data, bar._model.x , bar._model.y - 1);
                    }
                });
            });
        }
    }
  }
// get chart canvas
var ctx = document.getElementById("myChart").getContext("2d");
// create the chart using the chart canvas
var myChart = new Chart(ctx, {
  type: 'line',
  data: chartData,
  options:opt

});

</script>

<script>
    Chart.pluginService.register({
    beforeDraw: function (chart) {
      if (chart.config.options.elements.center) {
        //Get ctx from string
        var ctx = chart.chart.ctx;

        //Get options from the center object in options
        var centerConfig = chart.config.options.elements.center;
        var fontStyle = centerConfig.fontStyle || 'Helvetica';
        var txt = centerConfig.text;
        var color = centerConfig.color || '#000';
        var sidePadding = centerConfig.sidePadding || 10;
        var sidePaddingCalculated = (sidePadding/100) * (chart.innerRadius * 2)
        //Start with a base font of 30px
        ctx.font = "50px " + fontStyle;

        //Get the width of the string and also the width of the element minus 10 to give it 5px side padding
        var stringWidth = ctx.measureText(txt).width;
        var elementWidth = (chart.innerRadius * 2) - sidePaddingCalculated;

        // Find out how much the font can grow in width.
        var widthRatio = elementWidth / stringWidth;
        var newFontSize = Math.floor(50 * widthRatio);
        var elementHeight = (chart.innerRadius * 2);

        // Pick a new font size so it will not be larger than the height of label.
        var fontSizeToUse = Math.min(newFontSize, elementHeight);

        //Set font settings to draw it correctly.
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        var centerX = ((chart.chartArea.left + chart.chartArea.right) / 2);
        var centerY = ((chart.chartArea.top + chart.chartArea.bottom) / 2);
        ctx.font = fontSizeToUse+"px " + fontStyle;
        ctx.fillStyle = color;

        //Draw text in center
        ctx.fillText(txt, centerX, centerY);
      }
    }
  });

		var config = {
			type: 'doughnut',

			data: {
				datasets: [{
					data: {{result['outtop']}},
					backgroundColor: [
{#					  "#FF6384",#}
					  "#36A2EB",
{#					  "#FFCE56"#}
					],
					hoverBackgroundColor: [
{#					  "#FF6384",#}
{#					  "#36A2EB",#}
					  "#FFCE56"
					]
				}]
			},
		options: {
			elements: {
				center: {
					text:'{{result['outstr_top']}}',
          color: '#FF6384', // Default is #000000
          fontStyle: 'Helvetica', // Default is Arial
          sidePadding: 10 // Defualt is 20 (as a percentage)
				},
			},
            cutoutPercentage:80,
            title: {
            display: true,
            text: 'Top-Box'
        }
		}
	};
		var ctx = document.getElementById("doughnutChart5").getContext("2d");
		var myChart = new Chart(ctx, config);
</script>

<script>
		var config = {
			type: 'doughnut',
			data: {

				datasets: [{
					data: {{result['outmiddle']}},
					backgroundColor: [
{#					  "#FF6384",#}
					  "#36A2EB",
{#					  "#FFCE56"#}
					],
					hoverBackgroundColor: [
{#					  "#FF6384",#}
{#					  "#36A2EB",#}
{#					  "#FFCE56"#}
					]
				}]
			},
		options: {
			elements: {
				center: {
					text: '{{result['outstr_middle']}}',
          color: '#FF6384', // Default is #000000
          fontStyle: 'Helvetica', // Default is Arial
          sidePadding: 10 // Defualt is 20 (as a percentage)
				}
			},
            cutoutPercentage:80,
            title: {
            display: true,
            text: 'Middle-Box'
        }
		}
	};
		var ctx = document.getElementById("doughnutChart6").getContext("2d");
		var myChart = new Chart(ctx, config);
</script>
<script>
		var config = {
			type: 'doughnut',
			data: {
				datasets: [{
					data: {{ result['outbottom'] }},
					backgroundColor: [
{#					  "#FF6384",#}
					  "#36A2EB",
{#					  "#FFCE56"#}
					],
					hoverBackgroundColor: [
{#					  "#FF6384",#}
					  "#36A2EB",
{#					  "#FFCE56"#}
					]
				}]
			},
		options: {
			elements: {
				center: {
					text: '{{ result['outstr_bottom'] }}',
          color: '#FF6384', // Default is #000000
          fontStyle: 'Helvetica', // Default is Arial
          sidePadding: 10, // Defualt is 20 (as a percentage)
				}
			},
			cutoutPercentage:80,
             title: {
            display: true,
            text: 'Bottom-Box'
        }
		}

	};
		var ctx = document.getElementById("doughnutChart7").getContext("2d");
		var myChart = new Chart(ctx, config);
</script>

<script>

		var config = {
			type: 'doughnut',
			data: {

				datasets: [{
                    data:{{result['intop']}},
					backgroundColor: [
{#					  "#FF6384",#}
					  "#36A2EB",
{#					  "#FFCE56"#}
					],
					hoverBackgroundColor: [
{#					  "#FF6384",#}
{#					  "#36A2EB",#}
{#					  "#FFCE56"#}
					]
				}]
			},
		options: {
			elements: {
				center: {
					text: '{{result['instr_top']}}',
          color: '#FF6384', // Default is #000000
          fontStyle: 'Helvetica', // Default is Arial
          sidePadding: 10 // Defualt is 20 (as a percentage)
				}
			},
            cutoutPercentage:80,
             title: {
            display: true,
            text: 'Top-Box'
        }
		}
	};
		var ctx = document.getElementById("doughnutChart2").getContext("2d");
		var myChart = new Chart(ctx, config);
</script>
<script>

		var config = {
			type: 'doughnut',
			data: {

				datasets: [{
					data: {{result['inmiddle']}},
					backgroundColor: [
{#					  "#FF6384",#}
					  "#36A2EB",
{#					  "#FFCE56"#}
					],
					hoverBackgroundColor: [
{#					  "#FF6384",#}
					  "#36A2EB",
{#					  "#FFCE56"#}
					]
				}]
			},
		options: {
			elements: {
				center: {
					text: '{{result['instr_middle']}}',
          color: '#FF6384', // Default is #000000
          fontStyle: 'Helvetica', // Default is Arial
          sidePadding: 10 // Defualt is 20 (as a percentage)
				}
			},
            cutoutPercentage:80,
             title: {
            display: true,
            text: 'Middle-Box'
        }
		}
	};
		var ctx = document.getElementById("doughnutChart3").getContext("2d");
		var myChart = new Chart(ctx, config);
</script>
<script>
		var config = {
			type: 'doughnut',
			data: {
				datasets: [{
					data: {{ result['inbottom'] }},
					backgroundColor: [
{#					  "#FF6384",#}
					  "#36A2EB",
{#					  "#FFCE56"#}
					],
					hoverBackgroundColor: [
{#					  "#FF6384",#}
{#					  "#36A2EB",#}
{#					  "#FFCE56"#}
					]
				}]
			},
		options: {
			elements: {
				center: {text: '{{ result['instr_bottom'] }}',
                color: '#FF6384', // Default is #000000
                fontStyle: 'Helvetica', // Default is Arial
                fontSize:1000,
                sidePadding: 10 // Defualt is 20 (as a percentage)
				}
			},
            cutoutPercentage:80,
            title: {
            display: true,
            text: 'Bottom-Box',
        },
		}
	};
		var ctx = document.getElementById("doughnutChart4").getContext("2d");
		var myChart = new Chart(ctx, config);
</script>

<script>

var chartData = {
    labels: [{% for item in result['mons'] %}
             "{{item}}",
            {% endfor %}],
        datasets: [{
        label: 'Inpatient',
        backgroundColor: "#36A2EB",
        borderColor: "#36A2EB",
        borderWidth: 1,
        
        data: [{% for item in result['feedback']%}
                {{item[0]}},
              {% endfor %}]

      }, {
        label: 'Outpatient',
        backgroundColor:  "#FFCE56",
        borderColor:  "#FFCE56",

        data: [{% for item in result['feedback']%}
                {{item[1]}},
              {% endfor %}]
      }]
    };

var opt = {
    events: false,
    tooltips: {
        enabled: false
    },
    hover: {
        animationDuration: 0
    },

    scales: {
    xAxes: [{
                gridLines: {
                    display:false
                },
                
            }],
    yAxes: [{
                gridLines: {
                    display:false
                },
                ticks: {
                  fontColor: "#404040", // this here
                },   
            }]
    },


    animation: {
        duration: 1,
        onComplete: function () {
            var chartInstance = this.chart,
                ctx = chartInstance.ctx;
            ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
            ctx.textAlign = 'center';

            ctx.textBaseline = 'bottom';
            ctx.fillStyle = this.chart.config.options.defaultFontColor;
            this.data.datasets.forEach(function (dataset, i) {
                var meta = chartInstance.controller.getDatasetMeta(i);
                meta.data.forEach(function (bar, index) {
                    var data = dataset.data[index];                            
                    ctx.fillText(data, bar._model.x, bar._model.y - 5);
                });
            });
        }
    }
};
 var ctx = document.getElementById("canvas"),
     myLineChart = new Chart(ctx, {
        type: 'horizontalBar',
        data: chartData,
        options: opt,

     });
    
</script> 




</body>
</html>
